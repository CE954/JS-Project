!function(){"use strict";!function(){function e(e){switch(e){case"01d":return"/src/images/day.svg";case"02d":return"/src/images/cloudy-day-1.svg";case"03d":return"/src/images/cloudy-day-2.svg";case"04d":case"50d":return"/src/images/cloudy.svg";case"09d":return"/src/images/rainy-4.svg";case"10d":return"/src/images/rainy-6.svg";case"11d":return"/src/images/thunder.svg";case"13d":return"/src/images/snowy-6.svg"}}function n(e){switch(e){case"01n":return"/src/images/night.svg";case"02n":case"03n":case"04n":return"/src/images/cloudy-night-1.svg";case"09n":return"/src/images/rainy-4.svg";case"10n":return"/src/images/rainy-6.svg";case"11n":return"/src/images/thunder.svg";case"13n":return"/src/images/snowy-6.svg";case"50n":return"/src/images/cloudy.svg"}}document.querySelector(".background");const t=document.querySelector(".favorites-menu"),o=document.querySelector(".burger"),i=[],c=document.querySelector(".pin");function r(e){for(let n=0;n<i.length;n++)if(i[n][0]===e)return!0;return!1}function s(){for(let e=0;e<i.length;e++){let n=i[e][0].split(" ").join("-");if(!document.querySelector(`.${n}`)){let t=document.createElement("div");t.classList.add(`${n}`),t.innerHTML="",t.innerHTML+=`\n                <div class="pinned-location_name">${i[e][0]}</div>\n                <div class="pinned-location_icon"><img src="${i[e][1]}" class="pinned-icon" id="${n}"></div>\n                <div class="pinned-location_temp">${i[e][2]}</div>\n            `,document.querySelector(".favorites-menu nav").appendChild(t)}}}window.displayPinnedLocations=s,window.favorites=i;const d=document.querySelector(".empty-message");function a(){0===i.length?d.style.display="block":d.style.display="none"}const l=["imperial","metric"];let u=l[0];function m(){return u=u===l[0]?l[1]:l[0],u}function y(){return"imperial"===u?"°F":"°C"}window.unitSwitch=m;const p="62b8f696194b27ae3d38708afeb4c3cc";function h(t,o){fetch(`https://api.openweathermap.org/data/3.0/onecall?lat=${t}&lon=${o}&appid=${p}&units=${u}`).then((e=>e.json())).then((t=>{"404"!==t.cod?(function(t){let o=document.querySelector(".hours");for(let i=0;i<=23;i++){let c=document.createElement("div");c.classList.add("hour");let r=Math.round(t.hourly[i].temp),s=t.hourly[i].weather[0].icon,d="";d=s.includes("d")?e(s):n(s);let a=v(new Date(1e3*t.hourly[i].dt).getHours());c.innerHTML="",c.innerHTML+=`\n            <div class="hour_time">${a}</div>\n            <div class="hour_icon"><img src=${d} alt="weather icon"></div>\n            <div class="hour_temp">${r} ${y()}</div>\n        `,o.appendChild(c)}}(t),L(t)):console.log("error")}))}function v(e){return e>12?e-12+"pm":0===e?"12am":`${e}am`}window.getForecast=h,window.displayDailyForecast=L,window.deleteForecast=f;const g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function L(t){let o=document.querySelector(".days");for(let i=0;i<=6;i++){let c=document.createElement("div");c.classList.add("day");let r=Math.round(t.daily[i].temp.min),s=Math.round(t.daily[i].temp.max),d=t.daily[i].weather[0].icon,a="";a=d.includes("d")?e(d):n(d);let l=new Date(1e3*t.daily[i].dt);c.innerHTML="",c.innerHTML+=`\n            <div class="day_name">${g[l.getDay()]}</div>\n            <div class="day_icon"><img src=${a} alt="weather icon"></div>\n            <div class="day_temp">${r} - ${s} ${y()}</div>\n            <div class="day_desc">${S(t.daily[i].weather[0].description)}</div>\n        `,o.appendChild(c)}}function f(){document.querySelector(".days").innerHTML=""}function S(e){return e.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}const q=document.querySelector(".birdy"),T=document.querySelector(".birdy p");function w(){setTimeout((()=>{T.innerHTML=""}),2500)}document.addEventListener("DOMContentLoaded",(function(){T.innerHTML="Hey there!",setTimeout((()=>{T.innerHTML="I'm here to help you find the weather!",setTimeout((()=>{T.innerHTML="Just type in a location and I'll do the rest!",setTimeout((()=>{T.innerHTML="Or, you can use your current location!",setTimeout((()=>{T.innerHTML="I'll probably forget who you are because there's no cookies yet!",setTimeout((()=>{T.innerHTML="But, I hope you have a good time!",w()}),2500)}),2500)}),2500)}),2500)}),2500)}),{once:!0}),document.querySelector("#geo-search").addEventListener("mouseover",(()=>{T.innerHTML="Click here to use your current location!",w()}),{once:!0}),document.querySelector(".refresh").addEventListener("mouseover",(()=>{T.innerHTML="Click here to refresh the data!",w()}),{once:!0}),document.querySelector(".pin").addEventListener("mouseover",(()=>{T.innerHTML="Click here to pin or unpin the location!",w()}),{once:!0});let b=document.querySelector("#birdy-toggle");b.addEventListener("change",(function(){if(q)q.firstChild.remove(),q.remove();else{let e=document.createElement("div");e.classList.add("birdy");let n=document.createElement("p");e.appendChild(n),document.body.appendChild(e)}})),b.addEventListener("mouseover",(()=>{T.innerHTML="If you don't like me, you can turn me off!",w()}),{once:!0});const M=document.querySelector(".search-bar"),H=document.querySelector(".details"),$=document.querySelector(".details-2"),k=document.querySelector("#geo-search"),E=document.querySelector(".image img"),C=document.querySelector(".search"),x=document.querySelector(".loader"),_=document.querySelector(".pin"),I=document.querySelector(".refresh");function D(e){I.style.display="none",x.style.display="block",fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${p}&units=${u}`).then((e=>e.json())).then((e=>{"404"!==e.cod?(document.querySelector(".hours").innerHTML="",f(),document.querySelector(".weather").classList.add("fadeIn"),E.classList.add("fadeIn"),document.querySelector(".card").style.height="350px",M.style.border="1px solid #ccc",M.classList.remove("shake"),document.querySelector("#body").style.height="3000px",j(e),H.classList.add("fadeIn"),H.style.display="block",$.classList.add("fadeIn"),$.style.display="block",k.style.marginTop="4px",x.style.display="none",I.style.display="block",_.classList.add("fadeIn"),h(e.coord.lat,e.coord.lon)):(M.classList.add("shake"),M.style.border="1px solid #cc0505",M.placeholder="City not found",x.style.display="none",I.style.display="block")}))}function j(t){const{name:o}=t,{speed:i}=t.wind,{icon:c,description:s}=t.weather[0],{temp:d,humidity:a}=t.main;document.querySelector(".location").innerText=o,document.querySelector(".temp").innerText=Math.round(d)+`${y()}`,document.querySelector(".description").innerText=S(s),document.querySelector(".humidity").innerText=`Humidity: ${a}%`,document.querySelector(".wind").innerText=`Wind Speed: ${i} MPH`,c.includes("d")?(E.src=e(c),E.style.display="block"):(E.src=n(c),E.style.display="block"),r(o)?(_.classList.remove("unpinned"),_.classList.add("pinned")):(_.classList.remove("pinned"),_.classList.add("unpinned"))}a(),window.fetchWeather=D,window.displayWeather=j,C.addEventListener("submit",(function(e){e.preventDefault();let n=document.querySelector(".search-bar").value;""!==M.value&&(D(n),M.value="",M.placeholder="Enter a location")}));const F={enableHighAccuracy:!0,timeout:5e3};function P(e){let n=e.coords.latitude,t=e.coords.longitude;fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${n}&lon=${t}&appid=${p}&units=imperial`).then((e=>e.json())).then((e=>(M.placeholder="Enter a location",x.style.display="none",D(e.name))))}function W(e){console.warn(`ERROR(${e.code}): ${e.message}`),x.style.display="none",1===e.code?(M.classList.add("shake"),M.style.border="1px solid #cc0505",M.placeholder="Location access denied"):2===e.code?(M.placeholder="Can't find location",M.classList.add("shake"),M.style.border="1px solid #cc0505"):3===e.code&&(M.placeholder="Location request timed out",M.classList.add("shake"),M.style.border="1px solid #cc0505")}k.addEventListener("click",(function(e){M.placeholder="Finding location...",I.style.display="none",x.style.display="block",navigator.geolocation.getCurrentPosition(P,W,F)})),document.querySelector(".details-button").addEventListener("click",(function(e){e.preventDefault(),document.querySelector(".details").scrollIntoView({behavior:"smooth",block:"center"})})),document.querySelector(".burger").addEventListener("click",(function(){t.classList.contains("open")?(t.classList.remove("open"),o.style.background="url(/src/images/burger.svg)"):(t.classList.add("open"),o.style.background="url('/src/images/close.svg')")})),_.addEventListener("click",(function(){let e=document.querySelector(".location").innerHTML,n=document.querySelector(".image img").src,t=document.querySelector(".temp").innerHTML;r(e)&&0!==i.length?(function(e){let n=e.split(" ").join("-"),t=document.querySelector(`.${n}`);for(;t.firstChild;)t.removeChild(t.firstChild);t.remove()}(e),function(e){for(let n=0;n<i.length;n++)i[n][0]===e&&(i.splice(n,1),c.classList.remove("pinned"),c.classList.add("unpinned"))}(e)):(i.push([e,n,t]),s(),c.classList.remove("unpinned"),c.classList.add("pinned"))})),_.addEventListener("click",a);const A=document.querySelector(".hours"),O=document.querySelector(".days");A.addEventListener("wheel",(function(e){e.preventDefault(),A.scrollLeft+=e.deltaY})),O.addEventListener("wheel",(function(e){e.preventDefault(),O.scrollLeft+=e.deltaY}));const R=document.querySelector("#unit-toggle input");R.addEventListener("change",m);const Y=document.querySelector(".unit-message");R.addEventListener("change",(function(){"Fahrenheit"===Y.innerHTML?(Y.style.display="block",Y.innerHTML="Celsius",setTimeout((()=>{Y.style.display="none"}),2e3)):(Y.innerHTML="Fahrenheit",Y.style.display="block",setTimeout((()=>{Y.style.display="none"}),2e3))})),R.addEventListener("change",(function(){T.innerHTML="Please refresh the data after changing units!",w()}),{once:!0}),I.addEventListener("click",(function(e){if(e.preventDefault(),""===document.querySelector(".location").innerText)return M.classList.add("shake"),void setTimeout((()=>{M.classList.remove("shake")}),500);D(document.querySelector(".location").innerText),document.querySelectorAll(".pinned-location_temp").forEach((e=>{if(!e.innerHTML.includes(y()))if(e.innerHTML.includes("°C")){let n=parseInt(e.innerHTML.split(" ")[0]),t=Math.round(9*n/5+32);e.innerHTML=`${t} °F`}else{let n=parseInt(e.innerHTML.split(" ")[0]),t=Math.round(5*(n-32)/9);e.innerHTML=`${t} °C`}}))})),document.addEventListener("click",(function(e){let n=e.target;n.classList.contains("pinned-location_name")?D(n.innerText):n.classList.contains("pinned-location_icon")||n.classList.contains("pinned-location_temp")?D(n.parentElement.className.split("-").join(" ")):n.classList.contains("pinned-icon")&&(console.log(n.id.split("-").join(" ")),D(n.id.split("-").join(" ")))}));const B=document.querySelector(".birdy");document.addEventListener("mousemove",(function(e){B.style.left=e.pageX+"px",B.style.top=e.pageY-50+"px"}))}()}();
//# sourceMappingURL=main.js.map