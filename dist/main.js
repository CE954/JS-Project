!function(){"use strict";!function(){const e=document.querySelector(".background");function t(e){switch(e){case"01d":return"./src/images/day.svg";case"02d":return"./src/images/cloudy-day-1.svg";case"03d":return"./src/images/cloudy-day-2.svg";case"04d":case"50d":return"./src/images/cloudy.svg";case"09d":return"./src/images/rainy-4.svg";case"10d":return"./src/images/rainy-6.svg";case"11d":return"./src/images/thunder.svg";case"13d":return"./src/images/snowy-6.svg"}}function n(e){switch(e){case"01n":return"./src/images/night.svg";case"02n":case"03n":case"04n":return"./src/images/cloudy-night-1.svg";case"09n":return"./src/images/rainy-4.svg";case"10n":return"./src/images/rainy-6.svg";case"11n":return"./src/images/thunder.svg";case"13n":return"./src/images/snowy-6.svg";case"50n":return"./src/images/cloudy.svg"}}const o=document.querySelector(".favorites-menu"),r=document.querySelector(".burger"),s=[],c=document.querySelector(".pin");function i(e){for(let t=0;t<s.length;t++)if(s[t][0]===e)return!0;return!1}function a(){for(let e=0;e<s.length;e++){let t=s[e][0].split(" ").join("-");if(!document.querySelector(`.${t}`)){let n=document.createElement("div");n.classList.add(`${t}`),n.innerHTML="",n.innerHTML+=`\n                <div class="pinned-location_name">${s[e][0]}</div>\n                <div class="pinned-location_icon"><img src="${s[e][1]}" class="pinned-icon" id="${t}"></div>\n                <div class="pinned-location_temp">${s[e][2]}</div>\n            `,document.querySelector(".favorites-menu nav").appendChild(n)}}}window.displayPinnedLocations=a,window.favorites=s;const l=document.querySelector(".empty-message");function d(){0===s.length?l.style.display="block":l.style.display="none"}const u=["imperial","metric"];let y=u[0];function m(){return y=y===u[0]?u[1]:u[0],y}function p(){return"imperial"===y?"°F":"°C"}window.unitSwitch=m;const h="62b8f696194b27ae3d38708afeb4c3cc";function g(e,o){fetch(`https://api.openweathermap.org/data/3.0/onecall?lat=${e}&lon=${o}&appid=${h}&units=${y}`).then((e=>e.json())).then((e=>{"404"!==e.cod?(function(e){let o=document.querySelector(".hours");for(let r=0;r<=23;r++){let s=document.createElement("div");s.classList.add("hour");let c=Math.round(e.hourly[r].temp),i=e.hourly[r].weather[0].icon,a="";a=i.includes("d")?t(i):n(i);let l=v(new Date(1e3*e.hourly[r].dt).getHours());s.innerHTML="",s.innerHTML+=`\n            <div class="hour_time">${l}</div>\n            <div class="hour_icon"><img src=${a} alt="weather icon"></div>\n            <div class="hour_temp">${c} ${p()}</div>\n        `,o.appendChild(s)}}(e),f(e)):console.log("error")}))}function v(e){return e>12?e-12+"pm":0===e?"12am":`${e}am`}window.getForecast=g,window.displayDailyForecast=f,window.deleteForecast=b;const L=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function f(e){let o=document.querySelector(".days");for(let r=0;r<=6;r++){let s=document.createElement("div");s.classList.add("day");let c=Math.round(e.daily[r].temp.min),i=Math.round(e.daily[r].temp.max),a=e.daily[r].weather[0].icon,l="";l=a.includes("d")?t(a):n(a);let d=new Date(1e3*e.daily[r].dt);s.innerHTML="",s.innerHTML+=`\n            <div class="day_name">${L[d.getDay()]}</div>\n            <div class="day_icon"><img src=${l} alt="weather icon"></div>\n            <div class="day_temp">${c} - ${i} ${p()}</div>\n            <div class="day_desc">${S(e.daily[r].weather[0].description)}</div>\n        `,o.appendChild(s)}}function b(){document.querySelector(".days").innerHTML=""}function S(e){return e.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}const k=document.querySelector(".birdy"),T=document.querySelector(".birdy p");function q(){setTimeout((()=>{T.innerHTML=""}),2500)}document.addEventListener("DOMContentLoaded",(function(){T.innerHTML="Hey there!",setTimeout((()=>{T.innerHTML="I'm here to help you find the weather!",setTimeout((()=>{T.innerHTML="Just type in a location and I'll do the rest!",setTimeout((()=>{T.innerHTML="Use this format! (City, Country) or (City)",setTimeout((()=>{T.innerHTML="Or, you can use your current location!",setTimeout((()=>{T.innerHTML="I'll probably forget who you are because there's no cookies yet!",setTimeout((()=>{T.innerHTML="But, I hope you have a good time!",q()}),2500)}),2500)}),2500)}),2500)}),2500)}),2500)}),{once:!0}),document.querySelector("#geo-search").addEventListener("mouseover",(()=>{T.innerHTML="Click here to use your current location!",q()}),{once:!0}),document.querySelector(".refresh").addEventListener("mouseover",(()=>{T.innerHTML="Click here to refresh the data!",q()}),{once:!0}),document.querySelector(".pin").addEventListener("mouseover",(()=>{T.innerHTML="Click here to pin or unpin the location!",setTimeout((()=>{T.innerHTML="If you have too many pins you can scroll through them!",setTimeout((()=>{q()}),2500)}),2500)}),{once:!0});let w=document.querySelector("#birdy-toggle");function M(e){k.style.left=e.pageX+"px",k.style.top=e.pageY-50+"px"}function $(){document.addEventListener("mousemove",M)}w.addEventListener("mouseover",(()=>{T.innerHTML="If you don't like me, you can turn me off!",q()}),{once:!0}),document.querySelector(".hourly").addEventListener("mouseover",(()=>{T.innerHTML="Hover over the hours and scroll to see the forecast!",q()}),{once:!0}),document.querySelector(".daily").addEventListener("mouseover",(()=>{T.innerHTML="Hover over the days and scroll to see the forecast!",q()}),{once:!0}),w.addEventListener("change",(function(){"none"===k.style.display?(k.style.display="block",T.innerHTML="I'm back!",q(),$()):(k.style.display="none",q(),document.removeEventListener("mousemove",M))})),document.addEventListener("DOMContentLoaded",$,{once:!0});const H=document.querySelector(".search-bar"),C=document.querySelector(".details"),E=document.querySelector(".details-2"),x=document.querySelector("#geo-search"),I=document.querySelector(".image img"),z=document.querySelector(".search"),_=document.querySelector(".loader"),D=document.querySelector(".pin"),j=document.querySelector(".refresh");function F(e){j.style.display="none",_.style.display="block",fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${h}&units=${y}`).then((e=>e.json())).then((e=>{"404"!==e.cod?(document.querySelector(".hours").innerHTML="",b(),document.querySelector(".weather").classList.add("fadeIn"),I.classList.add("fadeIn"),document.querySelector(".card").style.height="350px",H.style.border="1px solid #ccc",H.classList.remove("shake"),document.querySelector("#body").style.height="3000px",N(e),C.classList.add("fadeIn"),C.style.display="block",E.classList.add("fadeIn"),E.style.display="block",x.style.marginTop="4px",_.style.display="none",j.style.display="block",D.classList.add("fadeIn"),g(e.coord.lat,e.coord.lon),setTimeout((()=>{!function(){let e=document.querySelector(".location"),t=document.querySelector(".description"),n=document.querySelector(".wind"),o=document.querySelector(".hour div:first-child");n="imperial"===y&&n.innerText.split(" ")[2]>20||"metric"===y&&parseInt(n.innerText.split(" ")[2])>9?"windy":"not windy";let r=function(){let e=document.querySelector(".temp"),t=parseInt(e.textContent.split("°")[0]);if("imperial"===y)switch(!0){case t<=32:return"cold as $#!#";case t>32&&t<=50:return"chilly";case t>50&&t<=70:return"cool";case t>70&&t<=90:return"hot";case t>90:return"hot as !$!#"}else switch(!0){case t<=0:return"cold as $#!#";case t>0&&t<=10:return"chilly";case t>10&&t<=20:return"cool";case t>20&&t<=32:return"hot";case t>=40:return"hot as !$!#"}}(),s=t.textContent.split(" ").map((e=>e.charAt(0).toLowerCase()+e.slice(1))).join(" "),c=o.textContent.includes("pm")?"evening":"morning";T.textContent=`It's ${r} in ${e.textContent} this ${c}!`,setTimeout((()=>{T.textContent=`We've got ${s} and it's ${n}!`,"windy"===n?setTimeout((()=>{T.textContent="I'd bring a jacket!",q()}),2500):q()}),2500)}()}),2500)):(H.classList.add("shake"),H.style.border="1px solid #cc0505",H.placeholder="City not found",_.style.display="none",j.style.display="block")}))}function N(o){const{name:r}=o,{speed:s}=o.wind,{icon:c,description:a}=o.weather[0],{temp:l,humidity:d}=o.main;document.querySelector(".location").innerText=r,document.querySelector(".temp").innerText=Math.round(l)+`${p()}`,document.querySelector(".description").innerText=S(a),document.querySelector(".humidity").innerText=`Humidity: ${d}%`,document.querySelector(".wind").innerText=`Wind Speed: ${s} ${"imperial"===y?"MPH":"M/S"}`,c.includes("d")?(I.src=t(c),function(t){switch(document.querySelector(".title").style.color="black",document.querySelector(".birdy p").style.color="black",t){case"01d":e.style.background="url(./src/images/ClearSky.svg)",e.style.backgroundSize="cover";break;case"02d":e.style.background="url(./src/images/FewClouds.svg)",e.style.backgroundSize="cover";break;case"03d":e.style.background="url(./src/images/ScatteredClouds.svg)",e.style.backgroundSize="cover";break;case"04d":case"50d":e.style.background="url(./src/images/BrokenClouds.svg)",e.style.backgroundSize="cover";break;case"09d":case"10d":e.style.background="url(./src/images/RainDay.svg)",e.style.backgroundSize="cover";break;case"11d":e.style.background="url(./src/images/Thunderstorm.svg)",e.style.backgroundSize="cover";break;case"13d":e.style.background="url(./src/images/SnowDay.svg)",e.style.backgroundSize="cover"}}(c),I.style.display="block"):(I.src=n(c),function(t){switch(document.querySelector(".title").style.color="white",document.querySelector(".birdy p").style.color="white",t){case"01n":e.style.background="url(./src/images/ClearNightSky.svg)",e.style.backgroundSize="cover";break;case"02n":e.style.background="url(./src/images/FewCloudsNight.svg)",e.style.backgroundSize="cover";break;case"03n":e.style.background="url(./src/images/ScatteredCloudsNight.svg)",e.style.backgroundSize="cover";break;case"04n":case"50n":e.style.background="url(./src/images/BrokenCloudsNight.svg)",e.style.backgroundSize="cover";break;case"09n":case"10n":e.style.background="url(./src/images/RainNight.svg)",e.style.backgroundSize="cover";break;case"11n":e.style.background="url(./src/images/Thunderstorm.svg)",e.style.backgroundSize="cover";break;case"13n":e.style.background="url(./src/images/SnowNight.svg)",e.style.backgroundSize="cover"}}(c),I.style.display="block"),i(r)?(D.classList.remove("unpinned"),D.classList.add("pinned")):(D.classList.remove("pinned"),D.classList.add("unpinned"))}d(),window.fetchWeather=F,window.displayWeather=N,z.addEventListener("submit",(function(e){e.preventDefault();let t=document.querySelector(".search-bar").value;""!==H.value&&(F(t),H.value="",H.placeholder="Enter a location")}));const R={enableHighAccuracy:!0,timeout:5e3};function W(e){let t=e.coords.latitude,n=e.coords.longitude;fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${n}&appid=${h}&units=imperial`).then((e=>e.json())).then((e=>(H.placeholder="Enter a location",_.style.display="none",F(e.name))))}function A(e){console.warn(`ERROR(${e.code}): ${e.message}`),_.style.display="none",1===e.code?(H.classList.add("shake"),H.style.border="1px solid #cc0505",H.placeholder="Location access denied"):2===e.code?(H.placeholder="Can't find location",H.classList.add("shake"),H.style.border="1px solid #cc0505"):3===e.code&&(H.placeholder="Location request timed out",H.classList.add("shake"),H.style.border="1px solid #cc0505")}x.addEventListener("click",(function(e){H.placeholder="Finding location...",j.style.display="none",_.style.display="block",navigator.geolocation.getCurrentPosition(W,A,R)})),document.querySelector(".details-button").addEventListener("click",(function(e){e.preventDefault(),document.querySelector(".details").scrollIntoView({behavior:"smooth",block:"center"})})),document.querySelector(".burger").addEventListener("click",(function(){o.classList.contains("open")?(o.classList.remove("open"),r.style.background="url(./src/images/burger.svg)"):(o.classList.add("open"),r.style.background="url(./src/images/close.svg)")})),D.addEventListener("click",(function(){let e=document.querySelector(".location").innerHTML,t=document.querySelector(".image img").src,n=document.querySelector(".temp").innerHTML;i(e)&&0!==s.length?(function(e){let t=e.split(" ").join("-"),n=document.querySelector(`.${t}`);for(;n.firstChild;)n.removeChild(n.firstChild);n.remove()}(e),function(e){for(let t=0;t<s.length;t++)s[t][0]===e&&(s.splice(t,1),c.classList.remove("pinned"),c.classList.add("unpinned"))}(e)):(s.push([e,t,n]),a(),c.classList.remove("unpinned"),c.classList.add("pinned"))})),D.addEventListener("click",d);const O=document.querySelector(".hours"),P=document.querySelector(".days");O.addEventListener("wheel",(function(e){e.preventDefault(),O.scrollLeft+=e.deltaY})),P.addEventListener("wheel",(function(e){e.preventDefault(),P.scrollLeft+=e.deltaY}));const B=document.querySelector("#unit-toggle input");B.addEventListener("change",m);const Y=document.querySelector(".unit-message");B.addEventListener("change",(function(){"Fahrenheit"===Y.innerHTML?(Y.style.display="block",Y.innerHTML="Celsius",setTimeout((()=>{Y.style.display="none"}),2e3)):(Y.innerHTML="Fahrenheit",Y.style.display="block",setTimeout((()=>{Y.style.display="none"}),2e3))})),B.addEventListener("change",(function(){T.innerHTML="Please refresh the data after changing units!",q()}),{once:!0}),j.addEventListener("click",(function(e){if(e.preventDefault(),""===document.querySelector(".location").innerText)return H.classList.add("shake"),void setTimeout((()=>{H.classList.remove("shake")}),500);F(document.querySelector(".location").innerText),document.querySelectorAll(".pinned-location_temp").forEach((e=>{if(!e.innerHTML.includes(p()))if(e.innerHTML.includes("°C")){let t=parseInt(e.innerHTML.split(" ")[0]),n=Math.round(9*t/5+32);e.innerHTML=`${n} °F`}else{let t=parseInt(e.innerHTML.split(" ")[0]),n=Math.round(5*(t-32)/9);e.innerHTML=`${n} °C`}}))})),document.addEventListener("click",(function(e){let t=e.target;t.classList.contains("pinned-location_name")?F(t.innerText):t.classList.contains("pinned-location_icon")||t.classList.contains("pinned-location_temp")?F(t.parentElement.className.split("-").join(" ")):t.classList.contains("pinned-icon")&&(console.log(t.id.split("-").join(" ")),F(t.id.split("-").join(" ")))}))}()}();
//# sourceMappingURL=main.js.map